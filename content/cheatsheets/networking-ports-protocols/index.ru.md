---
title: "Карта Интернета: Сетевые Порты, Протоколы и Коды Состояния"
description: "Визуальное руководство по TCP/IP, модели OSI, основным портам (SSH, HTTP, DNS) и кодам состояния HTTP для DevOps и хакеров."
date: 2026-02-13
tags: ["networking", "cheatsheet", "devops", "security", "sysadmin"]
keywords: ["таблица портов шпаргалка", "коды состояния http", "tcp vs udp", "модель osi объяснение", "типы dns записей", "ssh проброс портов"]
draft: false
schema_json: >
  {
    "@context": "https://schema.org",
    "@type": "TechArticle",
    "name": "Карта Интернета: Сетевые Порты, Протоколы и Коды Состояния",
    "description": "Визуальное руководство по TCP/IP, модели OSI, основным портам (SSH, HTTP, DNS) и кодам состояния HTTP для DevOps и хакеров.",
    "proficiencyLevel": "Intermediate",
    "inLanguage": "ru"
  }
---

## Основные Порты

Каждый сервис в сети слушает определённый порт. Это те, которые нужно знать наизусть.

### Общеизвестные Порты (0–1023)

| Порт | Протокол | Сервис | Примечания |
|------|----------|--------|------------|
| 20 | TCP | FTP Data | Передача данных в активном режиме |
| 21 | TCP | FTP Control | Команды и аутентификация |
| 22 | TCP | SSH / SFTP | Безопасная оболочка и передача файлов |
| 23 | TCP | Telnet | Незашифрованный удалённый доступ (избегайте) |
| 25 | TCP | SMTP | Отправка электронной почты |
| 53 | TCP/UDP | DNS | Разрешение доменных имён |
| 67/68 | UDP | DHCP | Динамическое назначение IP |
| 80 | TCP | HTTP | Незашифрованный веб-трафик |
| 110 | TCP | POP3 | Получение электронной почты |
| 143 | TCP | IMAP | Получение почты (на стороне сервера) |
| 443 | TCP | HTTPS | Зашифрованный веб-трафик (TLS) |
| 445 | TCP | SMB | Общий доступ к файлам Windows |
| 587 | TCP | SMTP (TLS) | Безопасная отправка почты |

### Зарегистрированные Порты (1024–49151)

| Порт | Протокол | Сервис | Примечания |
|------|----------|--------|------------|
| 1433 | TCP | MSSQL | Microsoft SQL Server |
| 1521 | TCP | Oracle DB | Слушатель базы данных Oracle |
| 3306 | TCP | MySQL | MySQL / MariaDB |
| 3389 | TCP | RDP | Протокол удалённого рабочего стола |
| 5432 | TCP | PostgreSQL | База данных PostgreSQL |
| 5900 | TCP | VNC | Virtual Network Computing |
| 6379 | TCP | Redis | Хранилище данных в памяти |
| 8080 | TCP | HTTP Alt | Популярный порт для разработки/прокси |
| 8443 | TCP | HTTPS Alt | Альтернативный порт HTTPS |
| 27017 | TCP | MongoDB | База данных MongoDB |

---

## Коды Состояния HTTP

Способ сервера сообщить вам, что произошло. Сгруппированы по категориям.

### 1xx — Информационные

| Код | Название | Значение |
|-----|----------|----------|
| 100 | Continue | Продолжайте отправку тела запроса |
| 101 | Switching Protocols | Переключение на WebSocket |

### 2xx — Успех

| Код | Название | Значение |
|-----|----------|----------|
| 200 | OK | Запрос выполнен успешно |
| 201 | Created | Ресурс создан (успешный POST) |
| 204 | No Content | Успех, но нечего возвращать |

### 3xx — Перенаправление

| Код | Название | Значение |
|-----|----------|----------|
| 301 | Moved Permanently | URL изменился навсегда (обновите закладки) |
| 302 | Found | Временное перенаправление |
| 304 | Not Modified | Используйте кешированную версию |
| 307 | Temporary Redirect | Как 302, но сохраняет HTTP-метод |
| 308 | Permanent Redirect | Как 301, но сохраняет HTTP-метод |

### 4xx — Ошибки Клиента

| Код | Название | Значение |
|-----|----------|----------|
| 400 | Bad Request | Неправильный синтаксис или недопустимые данные |
| 401 | Unauthorized | Требуется аутентификация |
| 403 | Forbidden | Аутентифицирован, но не авторизован |
| 404 | Not Found | Ресурс не существует |
| 405 | Method Not Allowed | Неправильный HTTP-метод (GET vs POST) |
| 408 | Request Timeout | Сервер устал ждать |
| 409 | Conflict | Конфликт состояния (например, дубликат) |
| 413 | Payload Too Large | Тело запроса превышает лимит |
| 418 | I'm a Teapot | RFC 2324. Да, это реально существует. |
| 429 | Too Many Requests | Превышен лимит запросов |

### 5xx — Ошибки Сервера

| Код | Название | Значение |
|-----|----------|----------|
| 500 | Internal Server Error | Общая ошибка сервера |
| 502 | Bad Gateway | Вышестоящий сервер отправил некорректный ответ |
| 503 | Service Unavailable | Сервер перегружен или на обслуживании |
| 504 | Gateway Timeout | Вышестоящий сервер не ответил вовремя |

---

## TCP vs UDP

Два протокола транспортного уровня. Разные инструменты для разных задач.

| Характеристика | TCP | UDP |
|----------------|-----|-----|
| Соединение | С установлением соединения (рукопожатие) | Без соединения (отправил и забыл) |
| Надёжность | Гарантированная доставка, упорядоченность | Нет гарантий, нет порядка |
| Скорость | Медленнее (накладные расходы) | Быстрее (минимальные накладные расходы) |
| Размер заголовка | 20–60 байт | 8 байт |
| Управление потоком | Да (оконный механизм) | Нет |
| Применение | Веб, почта, передача файлов, SSH | DNS, стриминг, игры, VoIP |

### Трёхэтапное Рукопожатие TCP

```
Client              Server
  |--- SYN ----------->|   1. Клиент отправляет SYN (seq=x)
  |<-- SYN-ACK --------|   2. Сервер отвечает SYN-ACK (seq=y, ack=x+1)
  |--- ACK ----------->|   3. Клиент отправляет ACK (ack=y+1)
  |                     |   Соединение установлено
```

### Разрыв Соединения TCP

```
Client              Server
  |--- FIN ----------->|   1. Клиент инициирует закрытие
  |<-- ACK ------------|   2. Сервер подтверждает
  |<-- FIN ------------|   3. Сервер готов к закрытию
  |--- ACK ----------->|   4. Клиент подтверждает
  |                     |   Соединение закрыто
```

---

## Рукопожатие SSL/TLS

Как HTTPS устанавливает зашифрованное соединение.

```
Client                          Server
  |--- ClientHello ------------->|   Поддерживаемые шифры, версия TLS, случайное число
  |<-- ServerHello --------------|   Выбранный шифр, сертификат, случайное число
  |    (проверка сертификата)    |
  |--- Key Exchange ------------>|   Pre-master secret (зашифрован открытым ключом сервера)
  |    (оба вычисляют сеансовый ключ) |
  |--- Finished (зашифровано) -->|   Первое зашифрованное сообщение
  |<-- Finished (зашифровано) ---|   Сервер подтверждает
  |                              |   Начинается зашифрованное взаимодействие
```

Ключевые концепции:
- **Асимметричное шифрование** (RSA/ECDSA) используется только для рукопожатия
- **Симметричное шифрование** (AES) используется для передачи данных (быстрее)
- **TLS 1.3** сократил рукопожатие до 1 обмена (против 2 в TLS 1.2)

---

## Модель OSI

Семь уровней, от физических кабелей до вашего браузера. Каждый уровень взаимодействует со своим аналогом на другом конце.

| Уровень | Название | Примеры протоколов | Единица данных | Устройства |
|---------|----------|--------------------|----------------|------------|
| 7 | Прикладной | HTTP, FTP, DNS, SMTP | Данные | — |
| 6 | Представления | SSL/TLS, JPEG, ASCII | Данные | — |
| 5 | Сеансовый | NetBIOS, RPC | Данные | — |
| 4 | Транспортный | TCP, UDP | Сегмент/Датаграмма | — |
| 3 | Сетевой | IP, ICMP, ARP | Пакет | Маршрутизатор |
| 2 | Канальный | Ethernet, Wi-Fi, PPP | Кадр | Коммутатор |
| 1 | Физический | Кабели, Радио, Оптоволокно | Биты | Концентратор |

> **Мнемоника (сверху вниз):** **П**рограммисты **П**росто **С**оздают **Т**ысячи **С**етевых **К**омпонентов **Ф**изически

### Модель TCP/IP (Упрощённая)

| Уровень TCP/IP | Эквивалент OSI | Примеры |
|----------------|----------------|---------|
| Прикладной | 7, 6, 5 | HTTP, DNS, SSH |
| Транспортный | 4 | TCP, UDP |
| Интернет | 3 | IP, ICMP |
| Сетевого доступа | 2, 1 | Ethernet, Wi-Fi |

---

## Типы DNS-Записей

Как доменные имена сопоставляются с сервисами.

| Тип | Назначение | Пример |
|-----|------------|--------|
| A | Домен → IPv4 | `example.com → 93.184.216.34` |
| AAAA | Домен → IPv6 | `example.com → 2606:2800:...` |
| CNAME | Псевдоним для другого домена | `www.example.com → example.com` |
| MX | Почтовый сервер | `example.com → mail.example.com` |
| TXT | Верификация, SPF, DKIM | `v=spf1 include:_spf.google.com` |
| NS | Делегирование серверу имён | `example.com → ns1.provider.com` |
| SOA | Информация о зоне | Serial, refresh, retry, expire |
| SRV | Расположение сервиса | `_sip._tcp.example.com` |
| PTR | Обратный поиск (IP → домен) | `34.216.184.93 → example.com` |

---

## Проброс Портов SSH

Туннелирование трафика через SSH. Незаменимо для доступа к сервисам за файрволами.

```bash
# Локальный проброс: доступ к remote_host:3306 через localhost:9906
ssh -L 9906:localhost:3306 user@remote_host

# Удалённый проброс: открыть ваш localhost:3000 на remote:8080
ssh -R 8080:localhost:3000 user@remote_host

# Динамический проброс (SOCKS-прокси на localhost:1080)
ssh -D 1080 user@remote_host

# Туннель через промежуточный хост
ssh -J jump_host user@final_host
```

---

## Краткая Справочная Таблица

| Что | Команда / Значение |
|-----|---------------------|
| Проверить открытые порты | `ss -tlnp` или `netstat -tlnp` |
| Сканировать порты | `nmap -sV target` |
| DNS-запрос | `dig example.com A` или `nslookup example.com` |
| Трассировка маршрута | `traceroute example.com` |
| Проверить связь | `ping -c 4 example.com` |
| HTTP-запрос | `curl -I https://example.com` |
| Проверить TLS-сертификат | `openssl s_client -connect example.com:443` |
| Захват пакетов | `tcpdump -i eth0 port 80` |
