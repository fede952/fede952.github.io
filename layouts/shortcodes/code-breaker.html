<div id="game-container" style="border: 1px solid #333; padding: 20px; background: rgba(0,0,0,0.5); border-radius: 8px; text-align: center; margin: 20px 0;">
    <h2 style="color: #00ff41; text-shadow: 0 0 5px #00ff41;">SYSTEM LOCKED</h2>
    <p style="color: #ccc;">Type the code below to bypass the firewall.</p>

    <div id="timer" style="font-size: 2rem; color: #00ff41; margin: 10px 0;">30</div>

    <div id="code-display" style="background: #111; padding: 15px; border: 1px solid #444; color: #ccc; font-family: 'Courier New', monospace; text-align: left; margin-bottom: 15px; user-select: none; min-height: 20px;">
        Press Start to initialize...
    </div>

    <textarea id="code-input" placeholder="Type here..." disabled style="width: 100%; height: 100px; background: #0d0d0d; color: #00ff41; border: 1px solid #333; padding: 10px; font-family: 'Courier New', monospace; resize: vertical;"></textarea>

    <button id="start-btn" style="margin-top: 15px; padding: 10px 30px; background: #00ff41; color: #000; border: none; font-weight: bold; cursor: pointer; transition: all 0.2s;">INITIALIZE HACK</button>
    <div id="result" style="margin-top: 10px; font-weight: bold; min-height: 20px;"></div>
    <div id="share-modal" class="share-overlay">
        <div class="share-box">
            <div class="share-title">Mission Report</div>
            <p style="color:#888;font-family:monospace;margin-bottom:15px;">Score: <span id="final-score-display">0</span></p>
            <div class="share-grid">
                <a id="btn-x" class="share-btn" target="_blank" rel="noopener"><span class="share-icon">ùïè</span>Twitter</a>
                <a id="btn-wa" class="share-btn" target="_blank" rel="noopener"><span class="share-icon">üí¨</span>WhatsApp</a>
                <a id="btn-tg" class="share-btn" target="_blank" rel="noopener"><span class="share-icon">‚úàÔ∏è</span>Telegram</a>
                <a id="btn-li" class="share-btn" target="_blank" rel="noopener"><span class="share-icon">üíº</span>LinkedIn</a>
                <button id="btn-copy" class="share-btn"><span class="share-icon">üìã</span>Copy</button>
            </div>
            <button onclick="closeShare()" class="close-share">CLOSE TERMINAL</button>
        </div>
    </div>
</div>

<script>
(function() {
    const snippets = [
        "sudo systemctl restart nginx",
        "docker run -d -p 80:80 nginx",
        "const active = users.filter(u => u.isActive);",
        "git commit -m 'fix: critical bug'",
        "import os; os.system('rm -rf /tmp/*')"
    ];

    let timeLeft = 30;
    let timerInterval;
    let currentSnippet = "";

    function initGame() {
        const display = document.getElementById('code-display');
        const input = document.getElementById('code-input');
        const startBtn = document.getElementById('start-btn');
        const timerEl = document.getElementById('timer');
        const resultEl = document.getElementById('result');

        if(!startBtn) return;

        startBtn.addEventListener('click', () => {
            input.value = "";
            input.disabled = false;
            input.focus();
            startBtn.style.display = 'none';
            resultEl.textContent = "";
            timeLeft = 30;
            timerEl.textContent = timeLeft;

            currentSnippet = snippets[Math.floor(Math.random() * snippets.length)];
            display.textContent = currentSnippet;

            if(timerInterval) clearInterval(timerInterval);

            timerInterval = setInterval(() => {
                timeLeft--;
                timerEl.textContent = timeLeft;
                if (timeLeft <= 0) endGame(false);
            }, 1000);
        });

        input.addEventListener('input', () => {
            if (input.value.trim() === currentSnippet) {
                endGame(true);
            }
        });

        function endGame(win) {
            clearInterval(timerInterval);
            input.disabled = true;
            startBtn.style.display = 'inline-block';
            startBtn.textContent = "RETRY HACK";

            if (win) {
                resultEl.innerHTML = "<span style='color:#00ff41'>ACCESS GRANTED. SYSTEM BREACHED.</span> <button onclick=\"openShare('" + (30 - timeLeft) + "s', 'Code Breaker')\" style='margin-left:10px;background:transparent;border:1px solid #00e5ff;color:#00e5ff;padding:4px 12px;cursor:pointer;font-family:monospace;font-size:0.85rem;border-radius:3px;'>SHARE</button>";
            } else {
                resultEl.innerHTML = "<span style='color:red'>ACCESS DENIED. CONNECTION TERMINATED.</span>";
            }
        }
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initGame);
    } else {
        initGame();
    }
})();
function openShare(score, gameName) {
    document.getElementById('final-score-display').innerText = score;
    document.getElementById('share-modal').classList.add('active');
    var url = window.location.href;
    var text = 'I scored ' + score + ' in ' + gameName + '! Can you beat my high score? \uD83C\uDFAE #CyberpunkGames #FedericoSella';
    document.getElementById('btn-x').href = 'https://twitter.com/intent/tweet?text=' + encodeURIComponent(text) + '&url=' + encodeURIComponent(url);
    document.getElementById('btn-wa').href = 'https://wa.me/?text=' + encodeURIComponent(text + ' ' + url);
    document.getElementById('btn-tg').href = 'https://t.me/share/url?url=' + encodeURIComponent(url) + '&text=' + encodeURIComponent(text);
    document.getElementById('btn-li').href = 'https://www.linkedin.com/sharing/share-offsite/?url=' + encodeURIComponent(url);
    document.getElementById('btn-copy').onclick = function() {
        navigator.clipboard.writeText(text + ' ' + url);
        this.innerHTML = '<span class="share-icon">\u2705</span>Copied';
        var b = this; setTimeout(function(){ b.innerHTML = '<span class="share-icon">\uD83D\uDCCB</span>Copy'; }, 2000);
    };
}
function closeShare() { document.getElementById('share-modal').classList.remove('active'); }
</script>
