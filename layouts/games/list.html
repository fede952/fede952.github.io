{{ define "main" }}
<main class="main">
  <header class="page-header">
    <h1>{{ .Title }}</h1>
    {{- if .Description }}
    <div class="post-description">
      {{ .Description }}
    </div>
    {{- end }}
    {{- if .Content }}
    <div class="post-content">
      {{ .Content }}
    </div>
    {{- end }}
  </header>

  <div class="post-list">
    {{/* HARDCODED TYPE LOOKUP */}}
    {{ $items := where site.RegularPages "Type" "games" }}

    <p style="color: #0f0; font-family: monospace; font-size: 12px;">
      DEBUG: Searching for Type 'games'. Found {{ len $items }} items.
    </p>

    {{- range $items }}
      <article class="post-entry" style="border: 1px solid var(--primary); margin-bottom: 1rem; padding: 1rem; border-radius: 8px;">
        <header class="entry-header">
          <h2>
            <a href="{{ .Permalink }}">{{ .Title }}</a>
          </h2>
        </header>
        {{- if .Description }}
        <div class="entry-content">
          <p>{{ .Description }}</p>
        </div>
        {{- end }}
        <footer class="entry-footer">
          </footer>
        <a class="entry-link" aria-label="Open {{ .Title }}" href="{{ .Permalink }}"></a>
      </article>
    {{- end }}

    {{ if eq (len $items) 0 }}
      <p style="color: red; font-weight: bold;">
        ERROR: No items found for Type "games".
        Please check that content files exist in content/games/
        and do NOT have 'draft: true'.
      </p>
    {{ end }}
  </div>
</main>
{{ end }}
